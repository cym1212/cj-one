!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.Poj2ProductSection=t(require("react")):e.Poj2ProductSection=t(e.React)}(this,e=>(()=>{"use strict";var t={12:t=>{t.exports=e}},a={};function s(e){var n=a[e];if(void 0!==n)return n.exports;var l=a[e]={exports:{}};return t[e](l,l.exports,s),l.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};s.d(n,{default:()=>x});var l=s(12),r=s.n(l);const o=[{id:1,companyId:21,config:{main_image:"https://picsum.photos/400/400?random=1",img_url:"https://picsum.photos/400/400?random=1",default_price:15e4,discounted_price:105e3,stock_count:50,generate_pv:210},title:"프리미엄 무선 이어폰",description:"고품질 무선 이어폰",categoryId:1,additionalImages:["https://picsum.photos/400/400?random=1","https://picsum.photos/400/400?random=2","https://picsum.photos/400/400?random=3"],hasOptions:!1,createdAt:"2024-01-01T00:00:00.000Z",brand:"TechBrand",purchases:523,flags:["delivery","weekend"],benefits:[{type:"coupon",value:"10% 추가할인"},{type:"card",value:"5% 청구할인"}],likes:234,realtimeViewers:15,wishlistCount:234},{id:2,companyId:21,config:{main_image:"https://picsum.photos/400/400?random=4",img_url:"https://picsum.photos/400/400?random=4",default_price:27e3,discounted_price:27e3,stock_count:30,generate_pv:420},title:"스맥스 코리아 초보자 레저용 라켓",description:"스맥스 코리아 초보자용 배드민턴 라켓",categoryId:2,additionalImages:["https://picsum.photos/400/400?random=4","https://picsum.photos/400/400?random=5","https://picsum.photos/400/400?random=6","https://picsum.photos/400/400?random=7"],hasOptions:!0,createdAt:"2024-01-02T00:00:00.000Z",brand:"스맥스 코리아",purchases:892,flags:["broadcast","delivery"],benefits:[{type:"coupon",value:"15% 할인쿠폰"}],likes:567,realtimeViewers:23,wishlistCount:567},{id:3,companyId:21,config:{main_image:"https://picsum.photos/400/400?random=5",img_url:"https://picsum.photos/400/400?random=5",default_price:45e4,discounted_price:292500,stock_count:10,generate_pv:585},title:"고급 커피머신",description:"프로페셔널 커피머신",categoryId:3,additionalImages:["https://picsum.photos/400/400?random=5","https://picsum.photos/400/400?random=6"],hasOptions:!1,createdAt:"2024-01-03T00:00:00.000Z",brand:"CafeExpert",purchases:234,flags:["delivery"],benefits:[{type:"card",value:"12개월 무이자"}],likes:123,realtimeViewers:8,wishlistCount:123},{id:4,companyId:21,config:{main_image:"https://picsum.photos/400/400?random=7",img_url:"https://picsum.photos/400/400?random=7",default_price:58e4,discounted_price:348e3,stock_count:20,generate_pv:696},title:"프리미엄 공기청정기",description:"대용량 공기청정기",categoryId:4,additionalImages:["https://picsum.photos/400/400?random=7"],hasOptions:!0,createdAt:"2024-01-04T00:00:00.000Z",brand:"CleanAir",purchases:456,flags:["broadcast","delivery","weekend"],benefits:[{type:"coupon",value:"20% 추가할인"},{type:"card",value:"6개월 무이자"}],likes:789,realtimeViewers:42,wishlistCount:789}],i=({src:e,alt:t=""})=>{const[a,s]=r().useState(!0);return r().createElement("div",{className:"poj2-image-box relative overflow-hidden w-full h-full bg-gray-100"},a&&r().createElement("div",{className:"absolute inset-0 bg-gray-200 animate-pulse"}),r().createElement("img",{src:e,alt:t,className:"w-full h-full object-cover object-center transition-transform duration-300 ease-out hover:scale-105 "+(a?"opacity-0":"opacity-100"),onLoad:()=>s(!1),loading:"lazy"}))},c=({tailwind:e})=>r().createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},r().createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})),d=({tailwind:e})=>r().createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},r().createElement("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}));function m({children:e}){const[t,a]=r().useState(0);return r().useEffect(()=>{if(e.length<=1)return;const t=setInterval(()=>{a(t=>(t+1)%e.length)},3e3);return()=>clearInterval(t)},[e.length]),r().createElement("div",{className:"flex-1 relative h-5 overflow-hidden"},e.map((e,a)=>r().createElement("div",{key:a,style:{position:"absolute",width:"100%",transform:`translateY(${a===t?"0%":"100%"})`,opacity:a===t?1:0,transition:"transform 0.5s ease-in-out, opacity 0.5s ease-in-out"}},r().cloneElement(e,{"data-rolling-item":!0}))))}function p({product:e,actions:t,activeRollingText:a=!0}){const s=(()=>{if(e.additionalImages&&e.additionalImages.length>0)return e.additionalImages.slice(0,3);const t=e.image||e.config?.main_image||e.config?.img_url;return t?[t]:["https://via.placeholder.com/400"]})(),n=e.title||e.name||"",l=e.brand,o=e.flags,i=e.benefits;return r().createElement("div",{className:"poj2-product-card cursor-pointer",onClick:()=>t.handleProductClick(e)},r().createElement("div",{className:"poj2-product-card-thumb relative"},r().createElement(u,{title:n,brand:l,thumbnails:s,tagImage:void 0}),a&&(e.wishlistCount&&e.wishlistCount>0||e.realtimeViewers&&e.realtimeViewers>0)?r().createElement("div",{className:"absolute left-0 bottom-0 flex items-center w-full h-7 lg:h-10 px-3 lg:px-5 bg-black/50"},r().createElement(m,null,r().createElement("div",{className:"absolute flex items-center gap-1 lg:gap-2"},r().createElement(c,{tailwind:"w-3 h-3 lg:w-6 lg:h-6 fill-white"}),r().createElement("p",{className:"text-white text-xs lg:text-base"},e.wishlistCount||0,"명이 찜한 상품이에요")),r().createElement("div",{className:"absolute flex items-center gap-1 lg:gap-2"},r().createElement(d,{tailwind:"w-3 h-3 lg:w-6 lg:h-6 fill-white"}),r().createElement("p",{className:"text-white text-xs lg:text-base"},"지금 ",e.realtimeViewers||0,"명이 이 상품을 보고있어요")))):null),r().createElement("div",{className:"poj2-product-card-info pt-3"},r().createElement(g,{product:e,brand:l,title:n})),o&&o.length>0&&r().createElement("div",{className:"poj2-product-card-flags lg:pt-1"},r().createElement(h,{flags:o})),i&&i.length>0&&r().createElement("div",{className:"poj2-product-card-benefits pt-2"},r().createElement(f,{benefits:i})))}function u({title:e,brand:t,thumbnails:a,tagImage:s}){return r().createElement("div",{className:"overflow-hidden relative aspect-[16/10]"},1===a.length?r().createElement(i,{src:a[0],alt:`${t||""} ${e}`}):r().createElement("div",{className:"grid grid-cols-3 gap-1 h-full"},a.slice(0,3).map((a,s)=>r().createElement("div",{className:0===s?"col-span-2 row-span-2":"col-span-1 row-span-1",key:s},r().createElement(i,{src:a,alt:`${t||""} ${e}`})))),s&&r().createElement("span",{className:"absolute top-0 left-0 block"},r().createElement("img",{src:s,alt:"",className:"w-20 h-20"})),a.length>3&&r().createElement("div",{className:"absolute bottom-0 right-0 bg-black/70 text-white text-xs px-2 py-1"},"+",a.length-3))}function g({product:e,brand:t,title:a}){const s=e.price||0,n=e.originalPrice,l=e.hasLevelPrice||n&&n>s,o=l&&n?Math.round(100*(1-s/n)):e.discount,i=e.purchases;return r().createElement("div",null,r().createElement("h3",{className:"text-sm lg:text-lg leading-sm"},t&&r().createElement("span",{className:"pr-1 font-bold"},t),a),r().createElement("div",{className:"my-1"},l&&n&&r().createElement("p",{className:"text-sm text-description line-through"},n.toLocaleString(),"원"),r().createElement("div",{className:"flex items-end justify-between"},r().createElement("div",{className:"flex items-center gap-1 lg:gap-2"},o&&r().createElement("p",{className:"text-lg lg:text-xl font-bold text-discount"},o,"%"),r().createElement("p",null,r().createElement("span",{className:"text-lg lg:text-xl font-bold"},s.toLocaleString()),r().createElement("span",null,"원"))),i?r().createElement("p",{className:"text-xs text-description"},i.toLocaleString()," 구매"):null),e.hasLevelPrice&&e.levelName?r().createElement("p",{className:"text-xs text-blue-600 mt-1"},e.levelName):null,e.pv&&e.pv>0?r().createElement("p",{className:"text-xs text-gray-600 mt-1"},"PV: ",e.pv):null))}function h({flags:e}){return r().createElement("div",{className:"flex items-center flex-wrap gap-x-1.5 gap-y-1 sm:gap-x-2"},e.map(e=>{switch(e){case"broadcast":return r().createElement("span",{key:e,className:"text-xs font-bold"},"방송상품");case"delivery":return r().createElement("span",{key:e,className:"text-xs"},"무료배송");case"weekend":return r().createElement("span",{key:e,className:"text-xs"},"주말배송");default:return null}}))}function f({benefits:e}){return r().createElement("div",{className:"flex items-center flex-wrap gap-1"},e.map((e,t)=>r().createElement("p",{key:t,className:"flex items-center gap-1 border border-border rounded px-1.5 text-xs"},r().createElement("span",null,"coupon"===e.type?"🎟️":"💳"),r().createElement("span",null,e.value))))}function v(e={}){const t=!!e.data,a=!!e.actions,s=e.data?.products||e.initialProducts||o,n=(0,l.useRef)(null),[i,c]=(0,l.useState)(1),[d,m]=(0,l.useState)(""),[u,g]=(0,l.useState)(null),[h,f]=(0,l.useState)("created"),[v,x]=(0,l.useState)("desc"),[w]=(0,l.useState)(!1),[E,b]=(0,l.useState)(!1),[y,N]=(0,l.useState)(!1),[P,_]=(0,l.useState)([]),[k,S]=(0,l.useState)(1);(0,l.useEffect)(()=>{const e=()=>{N(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,l.useEffect)(()=>{y&&s.length>0&&_(s.slice(0,8))},[y,s]);const C=t?e.data:{products:s,loading:w,currentPage:i,totalPages:Math.ceil(s.length/8),totalProducts:s.length,selectedCategory:u,searchQuery:d,sortBy:h,sortOrder:v,isUserLoggedIn:!0,isAdminMode:!1,itemsPerRow:2,showStock:!0,theme:{},isMobile:y,mobileProducts:P,mobilePage:k,isLoadingMore:E,loadMoreButtonRef:n},I=a?e.actions:{handleAddToCart:async t=>{t.hasOptions?e.utils?.navigate&&e.utils.navigate(`/product/${t.id}`):alert(`${t.name}이(가) 장바구니에 추가되었습니다.`)},handleCategoryChange:e=>{g(e)},handleSearch:e=>{m(e)},handleSortChange:(e,t)=>{f(e),x(t)},handlePageChange:e=>{c(e),y||window.scrollTo({top:0,behavior:"smooth"})},handleLoadMore:async()=>{y&&k<C.totalPages&&(b(!0),setTimeout(()=>{const e=8*k,t=e+8,a=s.slice(e,t);_(e=>[...e,...a]),S(e=>e+1),b(!1)},1e3))},handleProductClick:t=>{y&&sessionStorage.setItem("productListState",JSON.stringify({mobileProducts:C.mobileProducts,mobilePage:C.mobilePage,scrollPosition:window.scrollY,totalPages:C.totalPages})),e.utils?.navigate&&e.utils.navigate(`/product/${t.id}`)}};return(0,l.useEffect)(()=>{if("undefined"!=typeof window&&!document.querySelector('script[src*="cdn.tailwindcss.com"]')){const e=document.createElement("script");e.src="https://cdn.tailwindcss.com",e.async=!1,document.head.appendChild(e),e.onload=()=>{window.tailwind&&(window.tailwind.config={corePlugins:{preflight:!1}})}}},[]),C.loading?r().createElement("div",{className:"flex justify-center items-center py-20"},r().createElement("div",{className:"text-lg"},"상품을 불러오는 중...")):r().createElement("div",{className:`pb-15 lg:pb-30 ${e.className||""}`,style:e.style},r().createElement("style",null,"\n                .poj2-product-card {\n                    contain: layout;\n                }\n                .poj2-product-card-thumb {\n                    position: relative;\n                    background: #f3f4f6;\n                }\n                .poj2-image-box img {\n                    will-change: transform;\n                }\n                @keyframes rolling {\n                    0% { transform: translateY(0); }\n                    33% { transform: translateY(0); }\n                    50% { transform: translateY(-40px); }\n                    83% { transform: translateY(-40px); }\n                    100% { transform: translateY(-80px); }\n                }\n            "),r().createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 sm:gap-x-5 gap-y-8 lg:gap-y-10"},s.map(e=>r().createElement(p,{key:e.id,product:e,actions:I,activeRollingText:!0}))))}const x=e=>{if(e.data&&e.actions&&e.utils)return r().createElement(v,e);{const t={initialProducts:e.products||e.initialProducts,className:e.className,style:e.style,options:e.options,mode:e.mode||"production"};return r().createElement(v,t)}};return n=n.default})());