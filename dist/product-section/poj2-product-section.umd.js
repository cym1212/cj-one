!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.Poj2ProductSection=t(require("react")):e.Poj2ProductSection=t(e.React)}(this,e=>(()=>{"use strict";var t={12:t=>{t.exports=e}},a={};function s(e){var n=a[e];if(void 0!==n)return n.exports;var l=a[e]={exports:{}};return t[e](l,l.exports,s),l.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};s.d(n,{default:()=>v});var l=s(12),o=s.n(l);const r=[{id:1,companyId:21,config:{main_image:"https://picsum.photos/400/400?random=1",img_url:"https://picsum.photos/400/400?random=1",default_price:15e4,discounted_price:105e3,stock_count:50,generate_pv:210},title:"프리미엄 무선 이어폰",description:"고품질 무선 이어폰",categoryId:1,additionalImages:["https://picsum.photos/400/400?random=1","https://picsum.photos/400/400?random=2","https://picsum.photos/400/400?random=3"],hasOptions:!1,createdAt:"2024-01-01T00:00:00.000Z",brand:"TechBrand",purchases:523,flags:["delivery","weekend"],benefits:[{type:"coupon",value:"10% 추가할인"},{type:"card",value:"5% 청구할인"}],likes:234},{id:2,companyId:21,config:{main_image:"https://picsum.photos/400/400?random=4",img_url:"https://picsum.photos/400/400?random=4",default_price:27e3,discounted_price:27e3,stock_count:30,generate_pv:420},title:"스맥스 코리아 초보자 레저용 라켓",description:"스맥스 코리아 초보자용 배드민턴 라켓",categoryId:2,additionalImages:["https://picsum.photos/400/400?random=4","https://picsum.photos/400/400?random=5","https://picsum.photos/400/400?random=6","https://picsum.photos/400/400?random=7"],hasOptions:!0,createdAt:"2024-01-02T00:00:00.000Z",brand:"스맥스 코리아",purchases:892,flags:["broadcast","delivery"],benefits:[{type:"coupon",value:"15% 할인쿠폰"}],likes:567},{id:3,companyId:21,config:{main_image:"https://picsum.photos/400/400?random=5",img_url:"https://picsum.photos/400/400?random=5",default_price:45e4,discounted_price:292500,stock_count:10,generate_pv:585},title:"고급 커피머신",description:"프로페셔널 커피머신",categoryId:3,additionalImages:["https://picsum.photos/400/400?random=5","https://picsum.photos/400/400?random=6"],hasOptions:!1,createdAt:"2024-01-03T00:00:00.000Z",brand:"CafeExpert",purchases:234,flags:["delivery"],benefits:[{type:"card",value:"12개월 무이자"}],likes:123},{id:4,companyId:21,config:{main_image:"https://picsum.photos/400/400?random=7",img_url:"https://picsum.photos/400/400?random=7",default_price:58e4,discounted_price:348e3,stock_count:20,generate_pv:696},title:"프리미엄 공기청정기",description:"대용량 공기청정기",categoryId:4,additionalImages:["https://picsum.photos/400/400?random=7"],hasOptions:!0,createdAt:"2024-01-04T00:00:00.000Z",brand:"CleanAir",purchases:456,flags:["broadcast","delivery","weekend"],benefits:[{type:"coupon",value:"20% 추가할인"},{type:"card",value:"6개월 무이자"}],likes:789}],c=({src:e,alt:t=""})=>{const[a,s]=o().useState(!0);return o().createElement("div",{className:"poj2-image-box relative overflow-hidden w-full h-full bg-gray-100"},a&&o().createElement("div",{className:"absolute inset-0 bg-gray-200 animate-pulse"}),o().createElement("img",{src:e,alt:t,className:"w-full h-full object-cover object-center transition-transform duration-300 ease-out hover:scale-105 "+(a?"opacity-0":"opacity-100"),onLoad:()=>s(!1),loading:"lazy"}))},i=({tailwind:e})=>o().createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},o().createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})),d=({children:e})=>o().createElement("div",{className:"relative h-full overflow-hidden"},e);function m({product:e,data:t,actions:a,activeRollingText:s=!0}){const n=(()=>{if(e.additionalImages&&e.additionalImages.length>0)return e.additionalImages.slice(0,3);const t=e.image||e.config?.main_image||e.config?.img_url;return t?[t]:["https://via.placeholder.com/400"]})(),l=e.title||e.name||"",r=e.brand,c=e.config?.discounted_price||e.config?.default_price||e.price,m=e.config?.default_price||e.originalPrice,f=(e.discount||m&&c&&Math.round(100*(1-c/m)),e.purchases,e.flags),v=e.benefits,b=e.likes;return o().createElement("div",{className:"poj2-product-card cursor-pointer",onClick:()=>a.handleProductClick(e)},o().createElement("div",{className:"poj2-product-card-thumb relative"},o().createElement(p,{title:l,brand:r,thumbnails:n,tagImage:void 0}),s&&b&&o().createElement("div",{className:"absolute left-0 bottom-0 flex items-center w-full h-8 lg:h-10 px-4 lg:px-5 bg-black/50"},o().createElement(d,null,o().createElement("div",{className:"absolute flex items-center gap-1 lg:gap-2"},o().createElement(i,{tailwind:"w-4 h-4 lg:w-6 lg:h-6 fill-white"}),o().createElement("p",{className:"text-white text-sm lg:text-base"},b,"명이 찜한 상품이에요"))))),o().createElement("div",{className:"poj2-product-card-info pt-3"},o().createElement(u,{product:e,brand:r,title:l})),f&&f.length>0&&o().createElement("div",{className:"poj2-product-card-flags lg:pt-1"},o().createElement(g,{flags:f})),v&&v.length>0&&o().createElement("div",{className:"poj2-product-card-benefits pt-2"},o().createElement(h,{benefits:v})))}function p({title:e,brand:t,thumbnails:a,tagImage:s}){return o().createElement("div",{className:"overflow-hidden relative aspect-[16/10]"},1===a.length?o().createElement(c,{src:a[0],alt:`${t||""} ${e}`}):o().createElement("div",{className:"grid grid-cols-3 gap-1 h-full"},a.slice(0,3).map((a,s)=>o().createElement("div",{className:0===s?"col-span-2 row-span-2":"col-span-1 row-span-1",key:s},o().createElement(c,{src:a,alt:`${t||""} ${e}`})))),s&&o().createElement("span",{className:"absolute top-0 left-0 block"},o().createElement("img",{src:s,alt:"",className:"w-20 h-20"})),a.length>3&&o().createElement("div",{className:"absolute bottom-0 right-0 bg-black/70 text-white text-xs px-2 py-1"},"+",a.length-3))}function u({product:e,brand:t,title:a}){const s=e.price,n=e.originalPrice,l=e.hasLevelPrice||n&&n>s,r=l&&n?Math.round(100*(1-s/n)):e.discount,c=e.purchases;return o().createElement("div",null,o().createElement("h3",{className:"text-sm lg:text-lg leading-sm"},t&&o().createElement("span",{className:"pr-1 font-bold"},t),a),o().createElement("div",{className:"my-1"},l&&n&&o().createElement("p",{className:"text-sm text-description line-through"},n.toLocaleString(),"원"),o().createElement("div",{className:"flex items-end justify-between"},o().createElement("div",{className:"flex items-center gap-1 lg:gap-2"},r&&o().createElement("p",{className:"text-lg lg:text-xl font-bold text-discount"},r,"%"),o().createElement("p",null,o().createElement("span",{className:"text-lg lg:text-xl font-bold"},s.toLocaleString()),o().createElement("span",null,"원"))),c&&o().createElement("p",{className:"text-xs text-description"},c.toLocaleString()," 구매")),e.hasLevelPrice&&e.levelName&&o().createElement("p",{className:"text-xs text-blue-600 mt-1"},e.levelName),e.pv>0&&o().createElement("p",{className:"text-xs text-gray-600 mt-1"},"PV: ",e.pv)))}function g({flags:e}){return o().createElement("div",{className:"flex items-center flex-wrap gap-x-1.5 gap-y-1 sm:gap-x-2"},e.map(e=>{switch(e){case"broadcast":return o().createElement("span",{key:e,className:"text-xs font-bold"},"방송상품");case"delivery":return o().createElement("span",{key:e,className:"text-xs"},"무료배송");case"weekend":return o().createElement("span",{key:e,className:"text-xs"},"주말배송");default:return null}}))}function h({benefits:e}){return o().createElement("div",{className:"flex items-center flex-wrap gap-1"},e.map((e,t)=>o().createElement("p",{key:t,className:"flex items-center gap-1 border border-border rounded px-1.5 text-xs"},o().createElement("span",null,"coupon"===e.type?"🎟️":"💳"),o().createElement("span",null,e.value))))}function f(e={}){const t=!!e.data,a=!!e.actions,s=e.data?.products||e.initialProducts||r,n=(e.mode,(0,l.useRef)(null)),[c,i]=(0,l.useState)(1),[d,p]=(0,l.useState)(""),[u,g]=(0,l.useState)(null),[h,f]=(0,l.useState)("created"),[v,b]=(0,l.useState)("desc"),[x,E]=(0,l.useState)(!1),[y,w]=(0,l.useState)(!1),[N,P]=(0,l.useState)(!1),[_,k]=(0,l.useState)([]),[S,j]=(0,l.useState)(1);(0,l.useEffect)(()=>{const e=()=>{P(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,l.useEffect)(()=>{N&&s.length>0&&k(s.slice(0,8))},[N,s]);const I=t?e.data:{products:s,loading:x,currentPage:c,totalPages:Math.ceil(s.length/8),totalProducts:s.length,selectedCategory:u,searchQuery:d,sortBy:h,sortOrder:v,isUserLoggedIn:!0,isAdminMode:!1,itemsPerRow:2,showStock:!0,theme:{},isMobile:N,mobileProducts:_,mobilePage:S,isLoadingMore:y,loadMoreButtonRef:n},C=a?e.actions:{handleAddToCart:async t=>{t.hasOptions?e.utils?.navigate&&e.utils.navigate(`/product/${t.id}`):alert(`${t.name}이(가) 장바구니에 추가되었습니다.`)},handleCategoryChange:e=>{g(e)},handleSearch:e=>{p(e)},handleSortChange:(e,t)=>{f(e),b(t)},handlePageChange:e=>{i(e),N||window.scrollTo({top:0,behavior:"smooth"})},handleLoadMore:async()=>{N&&S<I.totalPages&&(w(!0),setTimeout(()=>{const e=8*S,t=e+8,a=s.slice(e,t);k(e=>[...e,...a]),j(e=>e+1),w(!1)},1e3))},handleProductClick:t=>{N&&sessionStorage.setItem("productListState",JSON.stringify({mobileProducts:I.mobileProducts,mobilePage:I.mobilePage,scrollPosition:window.scrollY,totalPages:I.totalPages})),e.utils?.navigate&&e.utils.navigate(`/product/${t.id}`)}};if((0,l.useEffect)(()=>{if("undefined"!=typeof window&&!document.querySelector('script[src*="cdn.tailwindcss.com"]')){const e=document.createElement("script");e.src="https://cdn.tailwindcss.com",e.async=!1,document.head.appendChild(e),e.onload=()=>{window.tailwind&&(window.tailwind.config={corePlugins:{preflight:!1}})}}},[]),I.loading)return o().createElement("div",{className:"flex justify-center items-center py-20"},o().createElement("div",{className:"text-lg"},"상품을 불러오는 중..."));const L=s;return o().createElement("div",{className:`pb-15 lg:pb-30 ${e.className||""}`,style:e.style},o().createElement("style",null,"\n                .poj2-product-card {\n                    contain: layout;\n                }\n                .poj2-product-card-thumb {\n                    position: relative;\n                    background: #f3f4f6;\n                }\n                .poj2-image-box img {\n                    will-change: transform;\n                }\n            "),o().createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 sm:gap-x-5 gap-y-8 lg:gap-y-10"},L.map(e=>o().createElement(m,{key:e.id,product:e,data:I,actions:C,activeRollingText:!0}))))}const v=e=>{if(e.data&&e.actions&&e.utils)return o().createElement(f,e);{const t={initialProducts:e.products||e.initialProducts,className:e.className,style:e.style,options:e.options,mode:e.mode||"production"};return o().createElement(f,t)}};return n=n.default})());