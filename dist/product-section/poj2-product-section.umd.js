!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.Poj2ProductSection=t(require("react")):e.Poj2ProductSection=t(e.React)}(this,e=>(()=>{"use strict";var t={12:t=>{t.exports=e}},a={};function l(e){var s=a[e];if(void 0!==s)return s.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var s={};l.d(s,{default:()=>E});var r=l(12),n=l.n(r);const c=["to","children"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},o.apply(null,arguments)}const i=[{id:1,name:"프리미엄 무선 이어폰",price:105e3,originalPrice:15e4,image:"https://picsum.photos/400/400?random=1",stock:50,hasOptions:!1,category_id:"1",description:"고품질 무선 이어폰",created_at:"2024-01-01",levelPrice:105e3,levelName:"VIP 할인",hasLevelPrice:!0,pv:210,title:"프리미엄 무선 이어폰",thumbnail:"https://picsum.photos/400/400?random=1",brand:"TechBrand",discount:30,purchases:523,flags:["delivery","weekend"],benefits:[{type:"coupon",value:"10% 추가할인"},{type:"card",value:"5% 청구할인"}],likes:234},{id:2,name:"스마트 워치 프로",price:21e4,originalPrice:28e4,image:"https://picsum.photos/400/400?random=4",stock:30,hasOptions:!0,category_id:"2",description:"프리미엄 스마트 워치",created_at:"2024-01-02",levelPrice:21e4,levelName:"멤버 할인",hasLevelPrice:!0,pv:420,title:"스마트 워치 프로",thumbnail:"https://picsum.photos/400/400?random=4",brand:"SmartTech",discount:25,purchases:892,flags:["broadcast","delivery"],benefits:[{type:"coupon",value:"15% 할인쿠폰"}],likes:567},{id:3,name:"고급 커피머신",price:292500,originalPrice:45e4,image:"https://picsum.photos/400/400?random=5",stock:10,hasOptions:!1,category_id:"3",description:"프로페셔널 커피머신",created_at:"2024-01-03",levelPrice:292500,levelName:"VIP 할인",hasLevelPrice:!0,pv:585,title:"고급 커피머신",thumbnail:"https://picsum.photos/400/400?random=5",brand:"CafeExpert",discount:35,purchases:234,flags:["delivery"],benefits:[{type:"card",value:"12개월 무이자"}],likes:123},{id:4,name:"프리미엄 공기청정기",price:348e3,originalPrice:58e4,image:"https://picsum.photos/400/400?random=7",stock:20,hasOptions:!0,category_id:"4",description:"대용량 공기청정기",created_at:"2024-01-04",levelPrice:348e3,levelName:"VIP 할인",hasLevelPrice:!0,pv:696,title:"프리미엄 공기청정기",thumbnail:"https://picsum.photos/400/400?random=7",brand:"CleanAir",discount:40,purchases:456,flags:["broadcast","delivery","weekend"],benefits:[{type:"coupon",value:"20% 추가할인"},{type:"card",value:"6개월 무이자"}],likes:789}],d=e=>{let{to:t,children:a}=e,l=function(e,t){if(null==e)return{};var a,l,s=function(e,t){if(null==e)return{};var a={};for(var l in e)if({}.hasOwnProperty.call(e,l)){if(-1!==t.indexOf(l))continue;a[l]=e[l]}return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)a=r[l],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}(e,c);return n().createElement("a",o({href:t,onClick:e=>{e.preventDefault(),console.log("Navigate to:",t)}},l),a)},m=({src:e,alt:t=""})=>n().createElement("div",{className:"poj2-image-box relative overflow-hidden w-full h-full"},n().createElement("img",{src:e,alt:t,className:"w-full h-full object-cover transition-transform duration-300 ease-out hover:scale-103"})),p=({tailwind:e})=>n().createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},n().createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})),u=({children:e})=>n().createElement("div",{className:"relative h-full overflow-hidden"},e);function g({product:e,data:t,actions:a,activeRollingText:l=!0}){const s=e.thumbnail?[e.thumbnail]:[e.image],r=e.name||e.title||"",c=e.brand,o=(e.price,e.discount,e.purchases,e.flags),i=e.benefits,m=e.likes;return n().createElement("div",{className:"poj2-product-card"},n().createElement(d,{to:`/product/${e.id}`,className:"block"},n().createElement("div",{className:"poj2-product-card-thumb relative"},n().createElement(h,{title:r,brand:c,thumbnails:s,tagImage:void 0}),l&&m&&n().createElement("div",{className:"absolute left-0 bottom-0 flex items-center w-full h-8 lg:h-10 px-4 lg:px-5 bg-black/50"},n().createElement(u,null,n().createElement("div",{className:"absolute flex items-center gap-1 lg:gap-2"},n().createElement(p,{tailwind:"w-4 h-4 lg:w-6 lg:h-6 fill-white"}),n().createElement("p",{className:"text-white text-sm lg:text-base"},m,"명이 찜한 상품이에요"))))),n().createElement("div",{className:"poj2-product-card-info pt-3"},n().createElement(f,{product:e,brand:c,title:r})),o&&o.length>0&&n().createElement("div",{className:"poj2-product-card-flags lg:pt-1"},n().createElement(v,{flags:o})),i&&i.length>0&&n().createElement("div",{className:"poj2-product-card-benefits pt-2"},n().createElement(b,{benefits:i}))))}function h({title:e,brand:t,thumbnails:a,tagImage:l}){return n().createElement("div",{className:"overflow-hidden relative grid grid-cols-3 gap-1 min-h-[175px] lg:min-h-[240px]"},1===a.length&&n().createElement("div",{className:"col-span-2 row-span-2"},n().createElement(m,{src:a[0],alt:`${t||""} ${e}`})),a.length>1&&a.slice(0,3).map((a,l)=>n().createElement("div",{className:0===l?"col-span-2 row-span-2":"col-span-1 row-span-1",key:l},n().createElement(m,{src:a,alt:`${t||""} ${e}`}))),l&&n().createElement("span",{className:"absolute top-0 left-0 block"},n().createElement("img",{src:l,alt:"",className:"w-20 h-20"})),a.length>3&&n().createElement("div",{className:"absolute bottom-0 right-0 bg-black/70 text-white text-xs px-2 py-1"},"+",a.length-3))}function f({product:e,brand:t,title:a}){const l=e.price,s=e.originalPrice,r=e.hasLevelPrice||s&&s>l,c=r&&s?Math.round(100*(1-l/s)):e.discount,o=e.purchases;return n().createElement("div",null,n().createElement("h3",{className:"text-sm lg:text-lg leading-sm"},t&&n().createElement("span",{className:"pr-1 font-bold"},t),a),n().createElement("div",{className:"my-1"},r&&s&&n().createElement("p",{className:"text-sm text-description line-through"},s.toLocaleString(),"원"),n().createElement("div",{className:"flex items-end justify-between"},n().createElement("div",{className:"flex items-center gap-1 lg:gap-2"},c&&n().createElement("p",{className:"text-lg lg:text-xl font-bold text-discount"},c,"%"),n().createElement("p",null,n().createElement("span",{className:"text-lg lg:text-xl font-bold"},l.toLocaleString()),n().createElement("span",null,"원"))),o&&n().createElement("p",{className:"text-xs text-description"},o.toLocaleString()," 구매")),e.hasLevelPrice&&e.levelName&&n().createElement("p",{className:"text-xs text-blue-600 mt-1"},e.levelName),e.pv>0&&n().createElement("p",{className:"text-xs text-gray-600 mt-1"},"PV: ",e.pv)))}function v({flags:e}){return n().createElement("div",{className:"flex items-center flex-wrap gap-x-1.5 gap-y-1 sm:gap-x-2"},e.map(e=>{switch(e){case"broadcast":return n().createElement("span",{key:e,className:"text-xs font-bold"},"방송상품");case"delivery":return n().createElement("span",{key:e,className:"text-xs"},"무료배송");case"weekend":return n().createElement("span",{key:e,className:"text-xs"},"주말배송");default:return null}}))}function b({benefits:e}){return n().createElement("div",{className:"flex items-center flex-wrap gap-1"},e.map((e,t)=>n().createElement("p",{key:t,className:"flex items-center gap-1 border border-border rounded px-1.5 text-xs"},n().createElement("span",null,"coupon"===e.type?"🎟️":"💳"),n().createElement("span",null,e.value))))}function x(e={}){const t=!!e.data,a=!!e.actions,l=e.data?.products||e.initialProducts||i,s=(e.mode,(0,r.useRef)(null)),[c,o]=(0,r.useState)(1),[d,m]=(0,r.useState)(""),[p,u]=(0,r.useState)(null),[h,f]=(0,r.useState)("created"),[v,b]=(0,r.useState)("desc"),[x,E]=(0,r.useState)(!1),[y,P]=(0,r.useState)(!1),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)([]),[j,O]=(0,r.useState)(1);(0,r.useEffect)(()=>{const e=()=>{w(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{N&&l.length>0&&S(l.slice(0,8))},[N,l]);const L=t?e.data:{products:l,loading:x,currentPage:c,totalPages:Math.ceil(l.length/8),totalProducts:l.length,selectedCategory:p,searchQuery:d,sortBy:h,sortOrder:v,isUserLoggedIn:!0,isAdminMode:!1,itemsPerRow:2,showStock:!0,theme:{},isMobile:N,mobileProducts:k,mobilePage:j,isLoadingMore:y,loadMoreButtonRef:s},C=a?e.actions:{handleAddToCart:async t=>{console.log("장바구니에 추가:",t.name),t.hasOptions?e.utils?.navigate?e.utils.navigate(`/product/${t.id}`):console.log("상품 상세페이지로 이동:",t.id):alert(`${t.name}이(가) 장바구니에 추가되었습니다.`)},handleCategoryChange:e=>{u(e)},handleSearch:e=>{m(e)},handleSortChange:(e,t)=>{f(e),b(t)},handlePageChange:e=>{o(e),N||window.scrollTo({top:0,behavior:"smooth"})},handleLoadMore:async()=>{N&&j<L.totalPages&&(P(!0),setTimeout(()=>{const e=8*j,t=e+8,a=l.slice(e,t);S(e=>[...e,...a]),O(e=>e+1),P(!1)},1e3))},handleProductClick:t=>{N&&sessionStorage.setItem("productListState",JSON.stringify({mobileProducts:L.mobileProducts,mobilePage:L.mobilePage,scrollPosition:window.scrollY,totalPages:L.totalPages})),e.utils?.navigate?e.utils.navigate(`/product/${t.id}`):console.log("상품 상세페이지로 이동:",t.id)}};if((0,r.useEffect)(()=>{if("undefined"!=typeof window&&!document.querySelector('script[src*="cdn.tailwindcss.com"]')){const e=document.createElement("script");e.src="https://cdn.tailwindcss.com",e.async=!0,document.head.appendChild(e)}},[]),L.loading)return n().createElement("div",{className:"flex justify-center items-center py-20"},n().createElement("div",{className:"text-lg"},"상품을 불러오는 중..."));const M=L.isMobile?L.mobileProducts:L.products;return n().createElement("div",{className:`pb-15 lg:pb-30 ${e.className||""}`,style:e.style},n().createElement("div",{className:`grid grid-cols-1 sm:grid-cols-${L.itemsPerRow} gap-x-4 sm:gap-x-5 gap-y-8 lg:gap-y-10`},M.map(e=>n().createElement(g,{key:e.id,product:e,data:L,actions:C,activeRollingText:!0}))),!L.isMobile&&L.totalPages>1&&!1!==e.options?.showPagination&&n().createElement("div",{className:"flex justify-center mt-10"},n().createElement("div",{className:"flex gap-2"},Array.from({length:L.totalPages},(e,t)=>t+1).map(e=>n().createElement("button",{key:e,onClick:()=>C.handlePageChange(e),className:"px-3 py-2 rounded "+(e===L.currentPage?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300")},e)))),L.isMobile&&L.mobilePage<L.totalPages&&n().createElement("div",{className:"flex justify-center mt-8"},n().createElement("button",{ref:s,onClick:C.handleLoadMore,disabled:L.isLoadingMore,className:"px-6 py-3 bg-blue-500 text-white rounded-lg disabled:bg-gray-400"},L.isLoadingMore?"로딩 중...":"더보기")))}const E=e=>{if(e.data&&e.actions&&e.utils)return n().createElement(x,e);{const t={initialProducts:e.products||e.initialProducts,className:e.className,style:e.style,options:e.options,mode:e.mode||"production"};return n().createElement(x,t)}};return s=s.default})());