<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POJ2 RecommendService Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <link rel="stylesheet" href="./poj2-recommend-service.css">
</head>
<body class="bg-gray-50">
    <div class="container mx-auto py-8">
        <h1 class="text-2xl font-bold text-center mb-8">RecommendService í…ŒìŠ¤íŠ¸</h1>
        
        <!-- ê¸°ë³¸ í…ŒìŠ¤íŠ¸ -->
        <div class="mb-12">
            <h2 class="text-lg font-semibold mb-4">1. ê¸°ë³¸ ë…ë¦½ ëª¨ë“œ í…ŒìŠ¤íŠ¸</h2>
            <div id="recommend-service-standalone"></div>
        </div>
        
        <!-- ComponentSkinProps êµ¬ì¡° í…ŒìŠ¤íŠ¸ -->
        <div class="mb-12">
            <h2 class="text-lg font-semibold mb-4">2. ComponentSkinProps êµ¬ì¡° í…ŒìŠ¤íŠ¸</h2>
            <div id="recommend-service-webbuilder"></div>
        </div>
        
        <!-- ì—ë””í„° ëª¨ë“œ í…ŒìŠ¤íŠ¸ -->
        <div class="mb-12">
            <h2 class="text-lg font-semibold mb-4">3. ì—ë””í„° ëª¨ë“œ í…ŒìŠ¤íŠ¸</h2>
            <div id="recommend-service-editor"></div>
        </div>
        
        <!-- ë¹ˆ ë°ì´í„° í…ŒìŠ¤íŠ¸ (DEFAULT_SERVICES í™•ì¸ìš©) -->
        <div class="mb-12">
            <h2 class="text-lg font-semibold mb-4">4. ë¹ˆ ë°ì´í„° í…ŒìŠ¤íŠ¸ (DEFAULT_SERVICES í‘œì‹œ í™•ì¸)</h2>
            <div id="recommend-service-empty"></div>
        </div>
    </div>

    <!-- ë¹Œë“œëœ UMD íŒŒì¼ ë¡œë“œ -->
    <script src="./../../dist/recommend-service/poj2-recommend-service.umd.js"></script>
    
    <script>
        console.log('Poj2RecommendService:', window.Poj2RecommendService);
        
        // ì™¸ë¶€ ë°ì´í„° ì—°ê²° í™•ì¸ìš© í…ŒìŠ¤íŠ¸ ì„œë¹„ìŠ¤ ë°ì´í„° (DEFAULT_SERVICESì™€ ë‹¤ë¥´ê²Œ ì„¤ì •)
        const testServices = [
            {
                id: 'external-1',
                title: 'ğŸ”¥ ì™¸ë¶€ ë°ì´í„° - íŠ¹ë³„í˜œíƒ',
                iconUrl: 'https://via.placeholder.com/80x80/ff6b6b/ffffff?text=EXT1',
                linkUrl: 'https://google.com',
                alt: 'ì™¸ë¶€ ë°ì´í„° íŠ¹ë³„í˜œíƒ'
            },
            {
                id: 'external-2',
                title: 'â­ ì™¸ë¶€ ë°ì´í„° - ë¦¬ì›Œë“œ',
                iconUrl: 'https://via.placeholder.com/80x80/4ecdc4/ffffff?text=EXT2',
                linkUrl: 'https://google.com',
                alt: 'ì™¸ë¶€ ë°ì´í„° ë¦¬ì›Œë“œ'
            },
            {
                id: 'external-3',
                title: 'ğŸ’ ì™¸ë¶€ ë°ì´í„° - í”„ë¦¬ë¯¸ì—„',
                iconUrl: 'https://via.placeholder.com/80x80/45b7d1/ffffff?text=EXT3',
                linkUrl: 'https://google.com',
                alt: 'ì™¸ë¶€ ë°ì´í„° í”„ë¦¬ë¯¸ì—„'
            },
            {
                id: 'external-4',
                title: 'ğŸ ì™¸ë¶€ ë°ì´í„° - ì´ë²¤íŠ¸',
                iconUrl: 'https://via.placeholder.com/80x80/f9ca24/ffffff?text=EXT4',
                linkUrl: 'https://google.com',
                alt: 'ì™¸ë¶€ ë°ì´í„° ì´ë²¤íŠ¸'
            },
            {
                id: 'external-5',
                title: 'ğŸ›ï¸ ì™¸ë¶€ ë°ì´í„° - ì‡¼í•‘',
                iconUrl: 'https://via.placeholder.com/80x80/6c5ce7/ffffff?text=EXT5',
                linkUrl: 'https://google.com',
                alt: 'ì™¸ë¶€ ë°ì´í„° ì‡¼í•‘'
            }
        ];

        // 1. ê¸°ë³¸ ë…ë¦½ ëª¨ë“œ í…ŒìŠ¤íŠ¸
        const root1 = ReactDOM.createRoot(document.getElementById('recommend-service-standalone'));
        root1.render(React.createElement(window.Poj2RecommendService, {
            title: 'ë…ë¦½ ëª¨ë“œ í…ŒìŠ¤íŠ¸',
            subtitle: 'ê¸°ë³¸ propsë¡œ ì‹¤í–‰',
            services: testServices
        }));

        // 2. ComponentSkinProps êµ¬ì¡° í…ŒìŠ¤íŠ¸
        const webbuilderData = {
            id: 'recommend-service-webbuilder-test',
            title: 'ComponentSkinProps í…ŒìŠ¤íŠ¸',
            subtitle: 'ì›¹ë¹Œë” í™˜ê²½ ì‹œë®¬ë ˆì´ì…˜',
            services: testServices,
            is_logged: true,
            is_not_logged: true,
            hoveredItemId: null,
            componentUniqueId: 'test-unique-id'
        };

        const webbuilderActions = {
            handleServiceClick: (service, e) => {
                console.log('ì›¹ë¹Œë” í´ë¦­:', service);
                alert(`ì›¹ë¹Œë” ëª¨ë“œ í´ë¦­: ${service.title} -> ${service.linkUrl}`);
            },
            handleServiceHover: (serviceId) => {
                console.log('í˜¸ë²„:', serviceId);
                // ì‹¤ì œë¡œ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ë ¤ë©´ useState ë“±ì´ í•„ìš”í•˜ì§€ë§Œ í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œëŠ” ì½˜ì†”ë§Œ
            },
            isValidUrl: (url) => {
                return url && url !== '#';
            },
            translate: (text) => {
                return `[ë²ˆì—­] ${text}`;
            }
        };

        const webbuilderUtils = {
            t: (key) => `[ë²ˆì—­] ${key}`,
            navigate: (path) => {
                console.log('Navigate to:', path);
                alert(`Navigate to: ${path}`);
            },
            formatCurrency: (amount) => `â‚©${amount.toLocaleString()}`,
            formatDate: (date) => date.toLocaleDateString('ko-KR'),
            getAssetUrl: (path) => `https://cdn.example.com${path}`,
            cx: (...classes) => classes.filter(Boolean).join(' ')
        };

        const webbuilderApp = {
            user: { id: 'test-user', name: 'Test User' },
            company: { id: 'test-company', name: 'Test Company' },
            currentLanguage: 'ko',
            theme: { primaryColor: '#007bff' }
        };

        const root2 = ReactDOM.createRoot(document.getElementById('recommend-service-webbuilder'));
        root2.render(React.createElement(window.Poj2RecommendService, {
            data: webbuilderData,
            actions: webbuilderActions,
            utils: webbuilderUtils,
            app: webbuilderApp,
            mode: 'production',
            options: {}
        }));

        // 3. ì—ë””í„° ëª¨ë“œ í…ŒìŠ¤íŠ¸
        const editorData = {
            ...webbuilderData,
            title: 'ì—ë””í„° ëª¨ë“œ í…ŒìŠ¤íŠ¸',
            subtitle: 'í´ë¦­ì´ ë¹„í™œì„±í™”ë¨'
        };

        const editorActions = {
            ...webbuilderActions,
            handleServiceClick: (service, e) => {
                console.log('ì—ë””í„° ëª¨ë“œ - í´ë¦­ ë¹„í™œì„±í™”:', service);
                // ì—ë””í„° ëª¨ë“œì—ì„œëŠ” ì‹¤ì œë¡œ í´ë¦­ì´ ë™ì‘í•˜ì§€ ì•Šì•„ì•¼ í•¨
            }
        };

        const editorProps = {
            isSelected: true,
            onSelect: () => console.log('ì»´í¬ë„ŒíŠ¸ ì„ íƒë¨'),
            onEdit: () => console.log('í¸ì§‘ ëª¨ë“œ ì§„ì…'),
            onDelete: () => console.log('ì»´í¬ë„ŒíŠ¸ ì‚­ì œ')
        };

        const root3 = ReactDOM.createRoot(document.getElementById('recommend-service-editor'));
        root3.render(React.createElement(window.Poj2RecommendService, {
            data: editorData,
            actions: editorActions,
            utils: webbuilderUtils,
            app: webbuilderApp,
            mode: 'editor',
            editor: editorProps,
            options: {}
        }));

        // 4. ë¹ˆ ë°ì´í„° í…ŒìŠ¤íŠ¸ (DEFAULT_SERVICES í‘œì‹œ í™•ì¸)
        const emptyData = {
            id: 'recommend-service-empty-test',
            title: 'ë¹ˆ ë°ì´í„° í…ŒìŠ¤íŠ¸ - DEFAULT_SERVICES í‘œì‹œ',
            subtitle: 'ì™¸ë¶€ ë°ì´í„° ì—†ìŒ',
            services: [], // ë¹ˆ ë°°ì—´ - DEFAULT_SERVICESê°€ í‘œì‹œë˜ì–´ì•¼ í•¨
            is_logged: true,
            is_not_logged: true
        };

        const root4 = ReactDOM.createRoot(document.getElementById('recommend-service-empty'));
        root4.render(React.createElement(window.Poj2RecommendService, {
            data: emptyData,
            actions: webbuilderActions,
            utils: webbuilderUtils,
            app: webbuilderApp,
            mode: 'production',
            options: {}
        }));

        console.log('ëª¨ë“  í…ŒìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë˜ì—ˆìŠµë‹ˆë‹¤.');
        console.log('ì™¸ë¶€ ë°ì´í„° vs ê¸°ë³¸ ë°ì´í„° ë¹„êµ:');
        console.log('- 1ë²ˆ: ë…ë¦½ ëª¨ë“œ (ì™¸ë¶€ testServices 5ê°œ)');
        console.log('- 2ë²ˆ: ì›¹ë¹Œë” ëª¨ë“œ (ì™¸ë¶€ testServices 5ê°œ)'); 
        console.log('- 3ë²ˆ: ì—ë””í„° ëª¨ë“œ (ì™¸ë¶€ testServices 5ê°œ)');
        console.log('- 4ë²ˆ: ë¹ˆ ë°ì´í„° ëª¨ë“œ (DEFAULT_SERVICES 3ê°œ í‘œì‹œë˜ì–´ì•¼ í•¨)');
    </script>
</body>
</html>